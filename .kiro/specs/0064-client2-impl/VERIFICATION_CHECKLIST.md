# 動作確認チェックリスト

## タスク6.1: 動作確認

### 自動確認済み項目

- [x] ビルドが成功する（`npm run build`）
- [x] 型チェックが通る（`npm run type-check`）
- [x] リントが通る（`npm run lint`）
- [x] 単体テストが通る（`npm test` - 40テスト成功）
- [x] 統合テストが通る（`npm test` - 8テスト成功）
- [x] E2Eテストが定義されている（90テスト定義済み）

### 手動確認が必要な項目

#### 1. すべてのページの動作確認

##### トップページ (`/`)
- [FIX] ページが正常に表示される
- [x] 機能一覧のカードが表示される
- [x] 認証状態が正しく表示される
- [x] ログイン/ログアウトボタンが動作する
- [x] TodayApiButtonが動作する

##### ユーザー管理ページ (`/dm-users`)
- [x] ページが正常に表示される
- [x] ユーザー一覧が表示される
- [x] ユーザー作成フォームが動作する
- [x] ユーザー削除が動作する
- [x] CSVダウンロードが動作する
- [ ] エラーハンドリングが適切に動作する

##### 投稿管理ページ (`/dm-posts`)
- [x] ページが正常に表示される
- [x] 投稿一覧が表示される
- [x] 投稿作成フォームが動作する
- [x] ユーザー選択が動作する
- [x] 投稿削除が動作する
- [ ] エラーハンドリングが適切に動作する

##### ユーザーと投稿のJOINページ (`/dm-user-posts`)
- [x] ページが正常に表示される
- [x] クロスシャードクエリの説明が表示される
- [x] ユーザーと投稿のJOIN結果が表示される
- [ ] 空状態が適切に表示される
- [ ] エラーハンドリングが適切に動作する

##### メール送信ページ (`/dm_email/send`)
- [x] ページが正常に表示される
- [x] メール送信フォームが動作する
- [x] 成功メッセージが表示される
- [ ] エラーハンドリングが適切に動作する

##### ジョブキューページ (`/dm-jobqueue`)
- [x] ページが正常に表示される
- [x] ジョブ登録フォームが動作する
- [x] 成功メッセージが表示される
- [ ] エラーハンドリングが適切に動作する

##### 動画アップロードページ (`/dm_movie/upload`)
- [x] ページが正常に表示される
- [x] Uppyダッシュボードが表示される
- [FIX] 動画アップロードが動作する
- [x] 進捗表示が動作する
- [ ] エラーハンドリングが適切に動作する

#### 2. 認証フローの確認

- [x] ログインボタンをクリックするとNextAuthのログインページにリダイレクトされる
- [x] ログイン後、セッションが正しく保持される
- [x] ログアウトボタンが動作する
- [x] ログアウト後、セッションが正しくクリアされる
- [ ] トークン取得API (`/api/auth/token`) が動作する
- [ ] プロフィール取得API (`/api/auth/profile`) が動作する

#### 3. API呼び出しの確認

- [ ] すべてのAPIエンドポイントが正常に動作する
- [x] 認証トークンが正しく送信される
- [ ] APIエラーレスポンスが適切に処理される
- [ ] 401/403エラーが適切に処理される

#### 4. エラーハンドリングの確認

- [ ] ネットワークエラーが適切に表示される
- [ ] APIエラーが適切に表示される
- [ ] バリデーションエラーが適切に表示される
- [ ] エラーメッセージがユーザーフレンドリーである

#### 5. レスポンシブデザインの確認

- [ ] モバイル表示が適切である
- [ ] タブレット表示が適切である
- [ ] デスクトップ表示が適切である

#### 6. アクセシビリティの確認

- [ ] キーボードナビゲーションが動作する
- [ ] スクリーンリーダーで適切に読み上げられる
- [ ] ARIA属性が適切に設定されている

## 確認方法

1. 開発サーバーを起動:
   ```bash
   cd client2
   npm run dev
   ```

2. ブラウザで各ページにアクセスして動作を確認

3. ブラウザの開発者ツールでエラーを確認

4. ネットワークタブでAPI呼び出しを確認

## 注意事項

- APIサーバーが起動していることを確認（`APP_ENV=develop go run ./cmd/server/main.go`）
- 環境変数が正しく設定されていることを確認（`.env.local`）
- 認証プロバイダーが正しく設定されていることを確認
